<!DOCTYPE html>
<html>
<head>
    <title>Calories Burnt Predictor</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="container">
    <h1>ðŸ”¥ You Want to know How Much Calories Burnt? </h1>

    <label>Gender</label>
    <select id="Gender">
        <option value="1">Male</option>
        <option value="0">Female</option>
    </select>

    <div class="slider">
        <label>Age: <span id="AgeVal">30</span></label>
        <input type="range" id="Age" min="10" max="80" value="30">
    </div>

    <div class="slider">
        <label>Height: <span id="HeightVal">170</span></label>
        <input type="range" id="Height" min="140" max="200" value="170">
    </div>

    <div class="slider">
        <label>Weight: <span id="WeightVal">70</span></label>
        <input type="range" id="Weight" min="40" max="120" value="70">
    </div>

    <div class="slider">
        <label>Duration: <span id="DurationVal">30</span></label>
        <input type="range" id="Duration" min="1" max="120" value="30">
    </div>

    <div class="slider">
        <label>Heart Rate: <span id="Heart_RateVal">100</span></label>
        <input type="range" id="Heart_Rate" min="60" max="200" value="100">
    </div>

    <div class="slider">
        <label>Body Temp: <span id="Body_TempVal">39</span></label>
        <input type="range" id="Body_Temp" min="36" max="42" step="0.1" value="39">
    </div>

    <h2>ðŸ”¥ Calories: <span id="result">---</span></h2>
</div>

<script>
function updateValue(id) {
    document.getElementById(id + "Val").innerText =
        document.getElementById(id).value;
}

function predictCalories() {
    fetch("/predict", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
            Gender: +Gender.value,
            Age: +Age.value,
            Height: +Height.value,
            Weight: +Weight.value,
            Duration: +Duration.value,
            Heart_Rate: +Heart_Rate.value,
            Body_Temp: +Body_Temp.value
        })
    })
    .then(res => res.json())
    .then(data => {
        document.getElementById("result").innerText = data.calories;
    });
}

document.querySelectorAll("input, select").forEach(el => {
    el.addEventListener("input", () => {
        if (el.type === "range") updateValue(el.id);
        predictCalories();
    });
});

// ðŸ”¥ IMPORTANT: initial prediction
predictCalories();
</script>

</body>
</html>

